<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Certificate Verification | PSDC</title>

    <!-- 3rd Paty Files -->
    <script src="app.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="css/main.css" rel="stylesheet" type="text/css">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <script src="https://kit.fontawesome.com/df201d4da9.js" crossorigin="anonymous"></script>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/9.13.0/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/9.13.0/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/9.13.0/firebase-performance-compat.js"></script>
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

    <!-- first-input-delay -->
    <script>!function(n,e){var t,o,i,c=[],f={passive:!0,capture:!0},r=new Date,a="pointerup",u="pointercancel";function p(n,c){t||(t=c,o=n,i=new Date,w(e),s())}function s(){o>=0&&o<i-r&&(c.forEach(function(n){n(o,t)}),c=[])}function l(t){if(t.cancelable){var o=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,o){function i(){p(t,o),r()}function c(){r()}function r(){e(a,i,f),e(u,c,f)}n(a,i,f),n(u,c,f)}(o,t):p(o,t)}}function w(n){["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(e){n(e,l,f)})}w(n),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(n){c.push(n),s()}}(addEventListener,removeEventListener);</script>
    <script>
      perfMetrics.onFirstInputDelay(function(delay, evt) {
      ga('send', 'event', {
        eventCategory: 'Perf Metrics',
        eventAction: 'first-input-delay',
        eventLabel: evt.type,
        // Event values must be an integer.
        eventValue: Math.round(delay),
        // Exclude this event from bounce rate calculations.
        nonInteraction: true,
      });
    });
    </script>

    <!-- Firbase SDK -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";   
      import "https://www.gstatic.com/firebasejs/8.10.0/firebase-app-check.js";
      import "https://www.gstatic.com/firebasejs/8.10.0/firebase-performance.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";

      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDHSPfWUPjZJSBGn0rO0sX9XR64Hy-hyHc",
        authDomain: "psdc-verify.firebaseapp.com",
        projectId: "psdc-verify",
        storageBucket: "psdc-verify.appspot.com",
        messagingSenderId: "38065555760",
        appId: "1:38065555760:web:f6b05413d646dc70ff60f5"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      // App Check
      const appCheck = firebase.appCheck();
      appCheck.activate('6LdgLe0iAAAAAAVbLwvBp0jocymUlleE85urWnSv', true);
      // Performance
      const perf = firebase.performance();
      // Analytics
      const analytics = getAnalytics(app);
    </script>
  </head>
  <body>
    <main>
      <div class="container">
        <div class="left">
          <div class="left-inner">
            <img src="css/logo.png" alt="PSDC Logo">
          </div>
        </div>
        <div class="right"> 
          <div class="right-inner">
            <h3>Panimalar Student Developement Community</h3>
            <div class="verify-form">
              <h3 class="title">Verify your Certificate!</h3>
                <div class="p-1 m-2">
                  <label for="cert-id" class="form-label">Certificate ID (Ex: PSDC/2022/TCS/00)</label>
                  <input 
                    type="text" 
                    maxlength="22" 
                    class="form-control inp-block" 
                    id="cert_id" 
                    aria-describedby="cert-help" 
                    placeholder="Enter Certificate ID" 
                  />
                  <div id="cert-help" class="form-text label">The Certificate ID can be found at the bottom of the certificate. Kindly write to <a href="mailto:contact@psdc.org.in">contact@psdc.org.in</a> if you find any discrepancies </div>

                </div>
                
                <p class="btn-placeholder"><button id="opener" onclick="verify_certificate()" class="btn btn-outline-dark inp-block">Verify</button></p>
                <div class="w3-container">
                  <div id="id01" class="w3-modal">
                    <div class="w3-modal-content w3-animate-top w3-card-4">
                      <header id="popupheader" class="w3-container w3-teal"> 
                        <span onclick="document.getElementById('id01').style.display='none'" 
                        class="w3-button w3-display-topright">&times;</span>
                        <h2 id="popuphead">Server Error</h2>
                      </header>
                      <div id="popupbody" class="w3-container">
                       <p> Something went wrong please try again!!</p>
                      </div>
                      <footer id="popupfoot" class="w3-container w3-teal">
                        <button id="popupbutton" class="button button1">View Certificate</button>
                      </footer>
                    </div>
                  </div>
                </div>
              <p class="text-center footer desk">Managed by PSDC WebOps</p>
            </div>
            
          </div>
        </div>
      </div>       
    </main>
  </body>
</html>
